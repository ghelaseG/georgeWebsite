<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Georgian Ghelase</title>
    <link rel="stylesheet" href="styles1.css">
</head>
 
<body>
<!-- text animation -->
    <div class="header">
        <div class="letter">
            <img src="./assets/letters/plain.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/A.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/B.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/O.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/U.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/T.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/plain.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/M.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/E.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/plain.png" alt="">
        </div>
    </div>

    <div class="website-content">
        <div class="website=content-wrapper">
        </div>
    </div>

    <!-- scroll trigger animation-->
        <div class="smooth-scroll">
            <div class="hero-scroller">
                <div class="section">
                    <div class="section-wrapper">
                        <div class="content">
                            <h1 class="hero-header h-1">Data</h1>
                            <h1 class="hero-header h-1">Scientist</h1>
                        </div>
                        <div class="pin-wrapper">
                            <div class="image-wrapper" id=""heroImage">
                                <img src="./assets/about/1723487075990.jpeg" alt="" class="image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section copy">
                <div class="section-wrapper">
                    <div class="content">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum, mollitia vel architecto culpa repellat accusamus quod provident velit! A, ea unde in sapiente odio delectus vero. Minus velit dolor dolores.</p>
                    </div>
                </div>
            </div>
        </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/gsap.min.js"></script>
    <script>
        const header = document.querySelector(".header");
        const letters = document.querySelectorAll(".letter");
        const websiteContent = document.querySelector(".website-content");

        let lastScroll = 0;

        const sectionHeight = 150;

        window.addEventListener("scroll", () => {
            const scrollY = window.scrollY;

            if (scrollY < 900) {
                websiteContent.style.position = "fixed";
                websiteContent.style.top = "0px";
            } else {
                websiteContent.style.position = "absolute";
                websiteContent.style.top = "900px";
            }
            const orderPairs = [
                [4, 5],
                [3, 6],
                [2, 7],
                [1, 8],
                [0, 9],
            ];

            orderPairs.forEach((pair, orderIndex) => {
                const startScroll = sectionHeight * orderIndex;

                if (scrollY >= startScroll) {
                    const moveFactor = Math.min(
                        1,
                        (scrollY - startScroll) / sectionHeight
                    );
                    const translateY = -moveFactor * header.offsetHeight;

                    pair.forEach((idx) => {
                        const letter = letters[idx];
                        gsap.to(letter, {
                            y: translateY,
                            zIndex: 1 - moveFactor,
                        });
                    });
                } else {
                    pair.forEach((idx) => {
                        const letter = letters[idx];
                        gsap.to(letter, {
                            y: 0,
                            zIndex: 1,
                        });
                    });
                }
            });
        
        const buffer = 50;

        lastScroll = scrollY;
    });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        const locoScroll = new LocomotiveScroll ({
            el: document.querySelector(".smooth-scroll"),
            smooth: true,
            lerp: 0.08
        });

        locoScroll.on("scroll", ScrollTrigger.update);

        ScrollTrigger.scrollProxy(".smooth-scroll", {
            scrollTop(value) {
                return arguments.length 
                ? locoScroll.scrollTo(value, 0, 0)
                : locoScroll.scroll.instance.scroll.y;
            },
            getBoundingClientRect() {
                return {
                    top: 0,
                    left: 0,
                    width: window.innerWidth,
                    height: window.innerHeight,
                };
            },
            pinType: document.querySelector(".smooth-scroll").style.transform ? "transform" : "fixed"
        });

        const vw = (coef) => window.innerWidth * (coef / 100);
        const vh = (coef) => window.innerHeight * (coef / 100);

        const heroScroller = gsap.timeline ({
            paused: true,
            ScrollTrigger: {
                trigger: ".hero-header.h-1",
                scroller: ".smooth-scroll",
                pin: ".pin-wrapper",
                start: "top 10%",
                scub: true,
                end: `${vh(100)}`,
            },
        });

        heroScroller.to(
            [".hero-header.h-1", ".hero-header.h-3"],
            {
                scale: 2,
                y: vh(150),
                xPercent: -150,
            },
            "heroScroll"
        )
        .to(".hero-header.h-2", {
            scale: 2,
            y: vh(150),
            xPercent: 150
        }, "heroScroll"
        )
        .to("heroImage", {
            scaleY: 2.5
        }, "heroScroll"
        )
        .to("#heroImage .image", {
            scaleX: 2.5,
            xPercent: 50
        }, "heroScroll"
        );

        ScrollTrigger.addEventListener("refresh", () => locoScroll.update());
        ScrollTrigger.refresh();
    </script>
</body>