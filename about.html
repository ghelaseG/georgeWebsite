<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Georgian Ghelase</title>
    <link rel="stylesheet" href="styles1.css">
</head>
<body>
    <div class="container">
        <div class="nav">
            <div class="logo"><h2>George's Website</h2>
                <a href="#">About Me</a>
                <div class="logo-revealer"></div>
            </div>
        </div>  
    </div>

    <div class="header">
        <div class="letter">
            <img src="./assets/letters/letterA.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/letterB.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/letterO.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/letterU.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/letterT.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/letterM.png" alt="">
        </div>
        <div class="letter">
            <img src="./assets/letters/letterE.png" alt="">
        </div>
    </div>

    <div class="website-content">
        <div class="website=content-wrapper">

        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/gsap.min.js"></script>
    <script>
        const header = document.querySelector(".header");
        const letters = document.querySelectorAll(".letter");
        const logo = document.querySelector(".logo a");
        const websiteContent = document.querySelector(".website-content");

        let lastScroll = 0;
        const sectionHeight = 150;

        window.addEventListener("scroll", () => {
            const scrollY = window.scrollY;

            if (scrollY < 900) {
                websiteContent.style.position = "fixed";
                websiteContent.style.top = "0px";
            } else {
                websiteContent.style.position = "absolute";
                websiteContent.style.top = "900px";
            }

            const orderPairs = [
                [4, 5],
                [3, 6],
                [2, 7],
                [1, 8],
                [0, 9],
            ];

            orderPairs.forEach(pair, orderIndex) => {
                const startScroll = sectionHeight * orderIndex;

                if (scrollY >- startScroll) {
                    const moveFactor = Math.min{
                        1,
                        (scrollY - startScroll) / sectionHeight
                    };

                    const translateY = -moveFactor * header.offsetHeight;

                    pair.forEach((idx) => {
                        const letter = letters[idx];
                        gsap.to(letter, {
                            y: translateY,
                            zIndex: 1 - moveFactor,
                        });
                    });
                } else {
                    pair.forEach((idx) => {
                        const letter = letters[idx];
                        gsap.to(letter, {
                            y:0,
                            zIndex: 1,
                        });
                    });
                }
            });
        

        const buffer = 50;

        if(
            scrollY >= orderPairs.length * sectionHeight + buffer &&
            !gsap.isTweening(logo)
        ) {
            gsap.to(logo, {
                top: "0px",
                ease: "power1.out",
                overwrite: true,
            });

            gsap.to(".logo-revealer", {
                scaleY: 0,
                overwrite: true,
            });
        } else if(
            scrollY <= (orderPairs.length - 1) * sectionHeight &&
            !gsap.isTweening(logo)
        ) {
            gsap.to(logo, {
                top: "20px",
                ease: "power1.out",
                overwrite: true,
            })

            gsap.to(".logo-revealer", {
                scaleY: 1,
                overwrite: true,
            })
        }
        lastScroll = scrollY;
    </script>
</body>